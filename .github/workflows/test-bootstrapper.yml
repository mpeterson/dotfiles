name: Validate bootstrapping works

on:
  push:
    branches: [ "master" ]
  pull_request:
  workflow_dispatch:

jobs:
  tests:
    runs-on: ${{ matrix.os }}
    strategy:
      matrix:
        os:
          - ubuntu-latest
          - macos-latest
    steps:
    - name: Bootstrap the agent
      run: bash <(wget -q -O - https://raw.githubusercontent.com/mpeterson/dotfiles/master/bootstrap-dotfiles.sh)

    - name: Load zsh
      run: zsh -l

